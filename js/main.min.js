function DNA (DNA_OBJ)
{
	playButton = '<div class="row"><div class="col-md-1"></div><div class="col-md-10"><input type="hidden" id="soundData-'+ DNA_OBJ.id + '" name="soundData-'+ DNA_OBJ.id + '" value="'+ DNA_OBJ.soundData +'"><a href="#" name="soundData-' + DNA_OBJ.id + '" class="btn btn-default btn-xs btn-block dna-play">Play</a></div><div class="col-md-1"></div></div>';
	
	DNADiv = $('<div/>', {
        'class':'col-md-4 DNA',
        'html': '<form class="DNA-current">' + chromosome(DNA_OBJ.chromosomes,DNA_OBJ.id) + playButton + '</form>'
    });
  	
    return DNADiv;
}


function chromosome (objects,DNA_ID)
{
	var html = '';
	var chromosomeDiv = '';
	$.each( objects, function( i, object ) {
		chromosomeDiv = chromosomeDiv + '<div class="col-md-5 chromosome" style="background-color:' + object.color + '"><input type="radio" id="radio-'+ DNA_ID +'-' + object.id + '" name="radio-'+ DNA_ID +'-' + object.id + '" value="1"> <a href="#" name="soundData-'+ DNA_ID +'-' + object.id + '" class="btn btn-default btn-xs chromosome-play">Play</a><input type="radio" class="mutate-radio" id="radio-'+ DNA_ID +'-' + object.id + '" name="radio-'+ DNA_ID +'-' + object.id + '" value="2"><input type="hidden" id="soundData-'+ DNA_ID +'-' + object.id + '" name="soundData-'+ DNA_ID +'-' + object.id + '" value="'+ object.soundData +'"></div>';
		if(i % 2 !== 0)
		{
			chromosomeDivs = '<div class="row"><div class="col-md-1"></div>' + chromosomeDiv + '<div class="col-md-1"></div></div>';
		    chromosomeDiv = '';
		    html = html + chromosomeDivs;
		    
		}
	});

	return html;

}

function AddDNA(object)
{
	$('.DNA-row').prepend(DNA(object));
}


$( document ).ready(function() {
    var DNACount = 1;
    AddDNA(generateDNA(DNACount, 10));
    DNACount++;

    $( '.DNA-row').on( "click", '.chromosome-play', function() {
    	play($('#'+$(this).attr('name')).val().split(','));
    });

    $( '.DNA-row').on( "click", '.dna-play', function() {
    	play($('#'+$(this).attr('name')).val().split(','));
    });

    $( '.generate').on( "click",function() {
    	var dnaSerArray = $( ".DNA-current" ).serializeArray();
    	var chromosomes = [];

    	$.each(dnaSerArray, function( index, value ) {
		  var inputName = value.name;
		  var color = $('#'+ inputName).parent('.chromosome').css('background-color');
		  var id = inputName.split('-')[2];
		  var DNAID = inputName.split('-')[1];
		  if(inputName.match("^radio-"))
		  {
		  	chromosomes.push({option: value.value, soundData: dnaSerArray[index+1].value, color: color, id : id, DNAID: DNAID});
		  }
		});
		$( ".DNA-current" ).removeClass('DNA-current');


		// TODO: Do something with the chromosomes (Array) that have a option
		// then re add the made DNA that is returned
		AddDNA(handleChromosomeArray(chromosomes));
		
    	
    });

});

