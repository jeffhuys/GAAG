function DNA (DNA_OBJ)
{
	playButton = '<div class="row"><div class="col-md-1"></div><div class="col-md-10"><input type="hidden" id="soundData-'+ DNA_OBJ.id + '" name="soundData-'+ DNA_OBJ.id + '" value="'+ DNA_OBJ.soundData +'"><a href="#" name="soundData-' + DNA_OBJ.id + '" class="btn btn-default btn-xs btn-block dna-play">Play</a></div><div class="col-md-1"></div></div>';
	
	DNADiv = $('<div/>', {
        'class':'col-md-4 DNA',
        'html': '<form class="DNA-current">' + chromosome(DNA_OBJ.chromosomes,DNA_OBJ.id) + playButton + '</form>'
    });
  	
    return DNADiv;
}


function chromosome (objects,DNA_ID)
{
	var html = '';
	var chromosomeDiv = '';
	$.each( objects, function( i, object ) {
		chromosomeDiv = chromosomeDiv + '<div class="col-md-5 chromosome" style="background-color:' + object.color + '"><input type="radio" name="radio-'+ DNA_ID +'-' + object.id + '" value="1"><input type="hidden" id="soundData-'+ DNA_ID +'-' + object.id + '" name="soundData-'+ DNA_ID +'-' + object.id + '" value="'+ object.soundData +'"> <a href="#" name="soundData-'+ DNA_ID +'-' + object.id + '" class="btn btn-default btn-xs chromosome-play">Play</a><input type="radio" class="mutate-radio" name="radio-'+ DNA_ID +'-' + object.id + '" value="2"></div>';
		if(i % 2 !== 0)
		{
			chromosomeDivs = '<div class="row"><div class="col-md-1"></div>' + chromosomeDiv + '<div class="col-md-1"></div></div>';
		    chromosomeDiv = '';
		    html = html + chromosomeDivs;
		    
		}
	});

	return html;

}

function AddDNA(object)
{
	$('.DNA-row').append(DNA(object));
}


$( document ).ready(function() {
    
    AddDNA(generateDNA("1", 10));

    $( '.chromosome-play').on( "click",function() {
    	play($('#'+$(this).attr('name')).val().split(','));
    });

    $( '.dna-play').on( "click",function() {
    	play($('#'+$(this).attr('name')).val().split(','));
    });

    $( '.generate').on( "click",function() {
    	var dnaSerArray = $( ".DNA-current" ).serializeArray();
    	var chromosomes = [];

    	$.each(dnaSerArray, function( index, value ) {
		  var inputName = value.name;
		  if(inputName.match("^radio-"))
		  {
		  	chromosomes.push({option: value.value, soundData: dnaSerArray[index+1].value});
		  }
		});
		$('.output').text(JSON.stringify(chromosomes));


		// TODO: Do something with the chromosomes (Array) that have a option
		// then re add the made DNA that is returned
		// AddDNA();
    	
    });

});

