<!DOCTYPE html>
<html>
<head>
	<title>RiffWave test</title>
	<script src="riffwave.js" type="text/javascript"></script>
</head>
<body>
	<script>
		var audio = new Audio(); // create the HTML5 audio element
		var wave = new RIFFWAVE(); // create an empty wave file
		var data = []; // yes, it's an array

		wave.header.sampleRate = 44100; // set sample rate to 44KHz
		wave.header.numChannels = 1; // two channels (stereo)

		var i = 0;
		var val = 0;
		while (i<100000) {
		  if(i % 7500 == 0) {
		  	val = Math.random() * 10 + 10;
		  	console.log("Tick");
		  } 

		  data[i++] = 128+Math.round(127*Math.sin(i/val));
		  
		}

		wave.Make(data); // make the wave file
		audio.src = wave.dataURI; // set audio source
		audio.play(); // we should hear two tones one on each speaker
	</script>
</body>
</html>